<div ng-controller="LevelCtrl" class="col-xs-12">
	
	<div class="col-xs-12 bottom_line">
		<button 
		ng-click="insert()"
		class="btn btn-primary"
		>新增階層</button>
	</div>
	
	<div class="col-xs-12 bottom_line" ng-repeat="(level_index,level) in TagLevelList">
		<div class="col-xs-12 ">
			<button 
			ng-click="delete(level_index)"
			class="btn"
			>刪除本層</button>	
			<input type="checkbox"  />子層為關聯資料
		</div>
		<div class="col-xs-12 ">
			本層
			<input type="text"
			ng-model="tag_name"
			/>
			<button 
			class="btn"
			ng-click="insertTagRelationCount(level.id,tag_name)"
			>新增標籤</button>
			
			<button 
			class="btn"
			ng-show="tagName[item.id]"
			ng-class="$parent.select_tid==item.id?'btn-danger':'btn-primary'"
			ng-click="$parent.select_tid==item.id?$parent.select_tid=undefined:$parent.select_tid=item.id;getTagRelationList(level.id,item.id)"
			ng-repeat="item in TagRelationCountList[level.id]"
			>{{tagName[item.id]}}({{item.count}})</button>
		</div>
		<div class="col-xs-12 ">
			子層{{tagName[select_tid]}}
			<input type="text"
			ng-model="child_tag_name"
			/>
			<button
			class="btn"
			ng-click="insertTagRelation(level.id,select_tid,child_tag_name)"
			>新增標籤</button>
			<button 
			class="btn"
			ng-show="tagName[item]"
			ng-click="insertTagRelationCount(TagLevelList[level_index+1].id,tagName[item])"
			ng-repeat="item in TagRelationList[level.id][select_tid]"
			>{{tagName[item]}}</button>
		</div>
	</div>
</div>